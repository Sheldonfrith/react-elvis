(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(5933)}])},5933:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return N}});var r=n(5893),l=n(7294),s=n(7293);let o={defaultError:{title:"Unknown Error With Test Function",message:"An unknown error occurred with the test function.",canIgnore:!1},loading:{title:"Running Test Function",message:"The test function is running."},definedErrors:[e=>{try{let t=JSON.parse(e.message);if(t&&"object"==typeof t){if(t.timeToComplete)return{title:"Error in 'Delay'",message:t.timeToComplete,canIgnore:!0,optionalMetadata:{inputField:"timeToComplete"}};if(t.completionType)return{title:"Error in 'Result Type'",message:t.completionType,canIgnore:!0,optionalMetadata:{inputField:"completionType"}}}}catch(e){return}},e=>{if(e instanceof Error&&"This is an example error"===e.message)return{title:"Intentional Error",message:"This is the error you chose to throw, for testing purposes.",canIgnore:!0}}]};var a=e=>{let{classNameOverride:t,onChangeOverride:n,valueOverride:l,children:s}=e;return(0,r.jsxs)("div",{className:"flex flex-row w-full justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:" p-2  whitespace-nowrap rounded-md text-white w-18 mr-16 text-lg",children:"Delay:"}),(0,r.jsx)("input",{className:t||"border border-black p-2 w-56 rounded-md text-black",onChange:n,value:l,id:"timeToComplete",name:"timeToComplete",type:"text",placeholder:"seconds"})]}),s]})},i=n(6763),c=e=>{let{classNameOverride:t,onChangeOverride:n,valueOverride:s,children:o}=e;return(0,l.useContext)(i.x),(0,r.jsxs)("div",{className:"flex flex-row w-full mb-2",children:[(0,r.jsx)("label",{className:" p-2 pr-16 rounded-md text-white w-16 mr-14 whitespace-nowrap text-lg",children:"Result Type:"}),(0,r.jsxs)("select",{className:t||"border border-black  w-56 p-2 rounded-md text-black",id:"completionType",name:"completionType",value:s,onChange:n,children:[(0,r.jsx)("option",{value:"success",children:"Success"}),(0,r.jsx)("option",{value:"incorrectly-thrown-error",children:"Incorrectly Thrown Error"}),(0,r.jsx)("option",{value:"correctly-thrown-error",children:"Correctly Thrown Error"}),(0,r.jsx)("option",{value:"self-cancel",children:"Self Cancel"})]}),o]})};let d=" p-2 rounded-md m-4 w-full max-h-10 h-10 ",u=" ".concat(d," bg-green-500 text-white hover:bg-green-600 "),m=" ".concat(d," bg-red-500 text-white hover:bg-red-600 "),b=" ".concat(d," bg-gray-500 text-white hover:bg-gray-600 "),x=" ".concat(d," bg-blue-500 text-white hover:bg-blue-600 "),h=" ".concat(d," bg-gray-500 text-gray-500 cursor-not-allowed ");var p=n(2405),f=e=>{let{formId:t}=e,n=(0,l.useContext)(i.x),d=(0,p.Wl)().async.abortable.register("customFunction_"+t,s.k,o);return(0,r.jsxs)("form",{className:"border border-white p-4 flex flex-col w-full rounded-md bg-gray-900 m-4 mb-8",onSubmit:function(e){e.preventDefault(),d&&d(e.target)},children:[(0,r.jsx)(c,{onChangeOverride:e=>{n.setReturnType(e.target.value)},valueOverride:n.returnType}),(0,r.jsx)(a,{onChangeOverride:e=>{n.setTimeToCompletion(e.target.value)},valueOverride:n.timeToCompletion}),(0,r.jsx)("div",{className:"flex flex-row",children:(0,r.jsx)("button",{type:"submit",className:x,children:"Submit"})})]})},g=e=>{let{size:t,color:n}=e;return n||(n="white"),(0,r.jsxs)("span",{style:{fontSize:t||"1em",verticalAlign:"middle"},children:[(0,r.jsx)("style",{dangerouslySetInnerHTML:{__html:'.elvis-loading-spinner {\n  display: inline-block;\n  width: 2.5em;\n  height: 2.5em;\n}\n.elvis-loading-spinner:after {\n  content: " ";\n  display: block;\n  width: 2.5em;\n  height: 2.5em;\n  margin: 0.2em;\n  border-radius: 50%;\n  border: 0.3em solid '.concat(n,";\n  animation: elvis-loading-spinner 1.0s linear infinite;\n  border-color: ").concat(n," transparent ").concat(n," transparent;\n}\n@keyframes elvis-loading-spinner {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}")}}),(0,r.jsx)("div",{className:"elvis-loading-spinner"})]})},j=e=>{let{formId:t}=e,n=(0,p.Wl)(),l=n.async.abortable.register(t,s.k,o),{error:i,clearError:d,residualError:f}=n.display.error.handle(t),{loading:j,cancelled:v,success:y}=n.display.loading.handle(t,1e3,1e3);return(0,r.jsxs)("form",{className:"border border-white p-4 flex flex-col w-full rounded-md bg-gray-900 m-4 mb-8",onSubmit:function(e){e.preventDefault(),l&&l(e.target)},children:[(0,r.jsx)(c,{}),(0,r.jsx)(a,{}),(0,r.jsxs)("div",{className:"flex flex-row ",children:[j&&!i?(0,r.jsx)("button",{type:"button",className:x,disabled:!0,children:(0,r.jsx)(g,{size:"0.6em"})}):v&&!i?(0,r.jsx)("button",{type:"button",className:m,disabled:!0,children:v.title}):y&&!i?(0,r.jsx)("button",{type:"button",className:u,disabled:!0,children:y.title}):i?(0,r.jsx)("button",{type:"button",className:b,onClick:e=>{e.preventDefault(),d()},children:"Ignore"}):(0,r.jsx)("button",{type:"submit",className:x,children:"Submit"}),n.async.abortable.getAbortController(t)&&j?(0,r.jsx)("button",{type:"button",className:b,onClick:e=>{var r;e.preventDefault(),null===(r=n.async.abortable.getAbortController(t))||void 0===r||r.abort()},children:"Cancel"}):i&&i.canIgnore?(0,r.jsx)("button",{type:"button",className:m,onClick:e=>{e.preventDefault(),window.location.reload()},children:"Reload"}):(0,r.jsx)("button",{type:"button",className:h,disabled:!0,children:"Cancel"})]}),f?(0,r.jsx)("div",{className:"flex flex-col",children:(0,r.jsxs)("p",{className:"text-red-500",children:[f.title,": ",f.message]})}):null]})},v=n(5328);function y(e){let t=(0,l.useRef)();return(0,l.useEffect)(()=>{t.current=e},[e]),t.current}var w=e=>{let{formId:t}=e,n=(0,p.Wl)(),[i,d]=(0,l.useState)([]),f=y(i),[j,w]=(0,l.useState)([]),N=y(j),[C,T]=(0,l.useState)(),[k,D]=(0,l.useState)(),E=n.async.abortable.register(t,s.k,o),{error:S,clearError:I,residualError:_}=n.display.error.handle(t),O=y(_),{loading:F,cancelled:R,success:A}=n.display.loading.handle(t,1e3,1e3);return(0,l.useEffect)(()=>{if(_!==O&&_&&_.optionalMetadata){let e=_.optionalMetadata.inputField;(0,v.h)("string"==typeof e,"fieldName must be a string"),d([{field:e,error:_}]),w(t=>t.includes(e)?t:[...t,e])}else _!==O&&i.length&&(d([]),w([]))},[_,i,O]),(0,l.useEffect)(()=>{if(i===f&&j===N)return;let e=i.find(e=>"completionType"===e.field),t=j.includes("completionType");D((0,r.jsx)(c,{classNameOverride:e?"".concat(t?"border-4 border-red-500":"border border-black"," p-2 rounded-md text-black"):void 0,onChangeOverride:()=>{w(e=>e.filter(e=>"completionType"!==e))},children:e?(0,r.jsx)("div",{className:"flex flex-col w-16",children:(0,r.jsxs)("p",{className:"text-red-500",children:[e.error.title,": ",e.error.message]})}):null}))},[i,j,f,N]),(0,l.useEffect)(()=>{if(i===f&&j===N)return;let e=i.find(e=>"timeToComplete"===e.field),t=j.includes("timeToComplete");T((0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a,{classNameOverride:e?"".concat(t?"border-4 border-red-500":"border border-black"," p-2 rounded-md text-black"):void 0,onChangeOverride:()=>{w(e=>e.filter(e=>"timeToComplete"!==e))}}),e?(0,r.jsx)("div",{className:"flex flex-col",children:(0,r.jsxs)("p",{className:"text-red-500",children:[e.error.title,": ",e.error.message]})}):null]}))},[i,j,f,N]),(0,r.jsxs)("form",{className:"border border-white p-4 flex flex-col w-full rounded-md bg-gray-900 m-4 mb-8",onSubmit:function(e){e.preventDefault(),E&&E(e.target)},children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[k,C]}),(0,r.jsxs)("div",{className:"flex flex-row",children:[F&&!S?(0,r.jsx)("button",{type:"button",className:b,disabled:!0,children:(0,r.jsx)(g,{size:"0.6em"})}):R&&!S?(0,r.jsx)("button",{type:"button",className:m,disabled:!0,children:R.title}):A&&!S?(0,r.jsx)("button",{type:"button",className:u,disabled:!0,children:A.title}):S?(0,r.jsx)("button",{type:"button",className:b,onClick:e=>{e.preventDefault(),I()},children:"Ignore"}):(0,r.jsx)("button",{type:"submit",className:x,children:"Submit"}),n.async.abortable.getAbortController(t)&&F?(0,r.jsx)("button",{type:"button",className:m,onClick:e=>{var r;e.preventDefault(),null===(r=n.async.abortable.getAbortController(t))||void 0===r||r.abort()},children:"Cancel"}):S&&S.canIgnore?(0,r.jsx)("button",{type:"button",className:m,onClick:e=>{e.preventDefault(),window.location.reload()},children:"Reload"}):(0,r.jsx)("button",{type:"button",className:h,disabled:!0,children:"Cancel"})]}),_&&!i.length?(0,r.jsx)("div",{className:"flex flex-col",children:(0,r.jsxs)("p",{className:"text-red-500",children:[_.title,": ",_.message]})}):null]})};function N(){return(0,r.jsx)("main",{className:"flex w-full min-h-screen flex-col items-center justify-between p-24 pt-12",children:(0,r.jsxs)("div",{className:"flex flex-col w-full max-w-2xl",children:[(0,r.jsxs)("h1",{className:"text-4xl font-bold text-center mb-8",children:[(0,r.jsx)("a",{href:"https://github.com/sheldonfrith/react-elvis",className:"text-blue-500 hover:underline",children:"React-Elvis"})," ","Example Page"]}),(0,r.jsx)("a",{className:"text-2xl font-bold text-center mb-8 text-blue-500 hover:underline cursor-pointer",href:"https://github.com/sheldonfrith/react-elvis",children:"See all the code on Github"}),(0,r.jsxs)("h2",{className:"text-2xl font-bold text-center",children:[" ","Feedback via Popup \uD83D\uDCF0"]}),(0,r.jsx)(f,{formId:"viaGlobalPopup"}),(0,r.jsxs)("h1",{className:"text-2xl font-bold text-center",children:[" ","Feedback at the Bottom ⬇️"," "]}),(0,r.jsx)(j,{formId:"viaBottomOnly"}),(0,r.jsx)("i",{className:"mb-6",children:"\uD83D\uDCA1 Hint: Type something non-numeric to see how input errors can be displayed..."}),(0,r.jsxs)("h1",{className:"text-2xl font-bold text-center",children:[" ","Feedback Integrated \uD83E\uDD1D"," "]}),(0,r.jsx)(w,{formId:"viaVariousChannels"})]})})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);